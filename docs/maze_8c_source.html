<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Let There Be Light: maze/maze.c ソースファイル</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Let There Be Light
   </div>
   <div id="projectbrief">光よ、あれ！</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 構築: Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'検索');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','検索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('maze_8c_source.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">maze.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="maze_8c.html">[詳解]</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;stddef.h&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;assert.h&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="config_8h.html">config.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="maze_8h.html">maze/maze.h</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tile_8h.html">maze/tile.h</a>&quot;</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="direction_8h.html">maze/direction.h</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="floodfill_8h.html">maze/floodfill.h</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="list_8h.html">util/list.h</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="util_8h.html">util/util.h</a>&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="struct_maze_builder.html">   28</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_maze_builder.html">MazeBuilder</a> {</div><div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="struct_maze_builder.html#a6150e0515f7202e2fb518f7206ed97dc">   30</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_maze_builder.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>;</div><div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="struct_maze_builder.html#a0a2f84ed7838f07779ae24c5a9086d33">   32</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_maze_builder.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="struct_maze_builder.html#a661370a64d52435709f40998d5e6a876">   35</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_maze_builder.html#a661370a64d52435709f40998d5e6a876">vx</a>;</div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="struct_maze_builder.html#a2d40d89fd87fed87535edda876725473">   37</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_maze_builder.html#a2d40d89fd87fed87535edda876725473">vy</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="struct_maze_builder.html#a093d9695bc7f56e2e457d8ccf15652c1">   40</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_maze_builder.html#a093d9695bc7f56e2e457d8ccf15652c1">limit</a>;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="struct_maze_builder.html#af1d511f1d6a3b2f54d3538d6c0c9bc94">   42</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_maze_builder.html#af1d511f1d6a3b2f54d3538d6c0c9bc94">remain</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="struct_maze_builder.html#abb529b46705d53eef9661ff459001bb0">   45</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_maze_builder.html#abb529b46705d53eef9661ff459001bb0">minDistance</a>;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="struct_maze_builder.html#af059ce420773b142fe29b20ee5b71fda">   47</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_maze_builder.html#af059ce420773b142fe29b20ee5b71fda">maxDistance</a>;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="struct_maze_builder.html#a53421c695d00016ab925777d423b4eb6">   50</a></span>&#160;  <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> <a class="code" href="struct_maze_builder.html#a53421c695d00016ab925777d423b4eb6">direction</a>;</div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="struct_maze_builder.html#a7e3e884121cbad08e7bce25624028e3c">   52</a></span>&#160;  <a class="code" href="structvec2i.html">vec2i</a>* <a class="code" href="struct_maze_builder.html#a7e3e884121cbad08e7bce25624028e3c">spawners</a>;</div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="struct_maze_builder.html#a1167ce0f983cc8ca98daa671bab5c1e5">   54</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_maze_builder.html#a1167ce0f983cc8ca98daa671bab5c1e5">spawnerIndex</a>;</div><div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="struct_maze_builder.html#a84eaa2ea10e531b15ba42f4113b66445">   56</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="struct_maze_builder.html#a84eaa2ea10e531b15ba42f4113b66445">spawnerCount</a>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;} <a class="code" href="maze_8c.html#a6e2e72bfedc38d5f199e3f3719b1630c">MazeBuilder</a>;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="maze_8c.html#a50b38ed3119892e7d6097ae02210d7cd">   69</a></span>&#160;<span class="keyword">static</span> <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> <a class="code" href="maze_8c.html#a50b38ed3119892e7d6097ae02210d7cd">filterDirections</a>(<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> limit, <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> candidates) {</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">if</span> (x == 0 || x == 1 <span class="comment">/* odd numbers of distance are not allowed */</span>) {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <a class="code" href="util_8h.html#a721b8038f5b6dbdb855ed58eedfac29e">clearBits</a>(candidates, <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa1307dc42d06472935155dcbe283bc660">DIR_LEFT</a>);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x == limit || x == limit - 1) {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="util_8h.html#a721b8038f5b6dbdb855ed58eedfac29e">clearBits</a>(candidates, <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa5dd21ef3d450f62c44082756cab8f6f8">DIR_RIGHT</a>);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span> (y == 0 || y == 1) {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="util_8h.html#a721b8038f5b6dbdb855ed58eedfac29e">clearBits</a>(candidates, <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab1bf68da897d09488069dd40e54f442d">DIR_DOWN</a>);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (y == limit || y == limit - 1) {</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="util_8h.html#a721b8038f5b6dbdb855ed58eedfac29e">clearBits</a>(candidates, <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa0b76fb863426c07c6c997a8d9523257b">DIR_UP</a>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  }</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="keywordflow">return</span> candidates;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">// ============ Builder Begin ============ //</span></div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="maze_8c.html#a43736a2fd7f3754cf0850eb4a0dda1ca">   92</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="maze_8c.html#a43736a2fd7f3754cf0850eb4a0dda1ca">updateDistance</a>(<a class="code" href="struct_maze_builder.html">MazeBuilder</a>* builder) {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a> = <a class="code" href="util_8c.html#a1e0c17c5d6e86def3e92241950b37b10">randomInt</a>(builder-&gt;<a class="code" href="struct_maze_builder.html#abb529b46705d53eef9661ff459001bb0">minDistance</a>, builder-&gt;<a class="code" href="struct_maze_builder.html#af059ce420773b142fe29b20ee5b71fda">maxDistance</a>);</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  assert(<a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a> != 0);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <a class="code" href="structvec2i.html">vec2i</a> velocity = <a class="code" href="direction_8c.html#a33c2147038512b4068c34d6b219b773d">directionToDelta</a>(builder-&gt;<a class="code" href="struct_maze_builder.html#a53421c695d00016ab925777d423b4eb6">direction</a>);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  builder-&gt;<a class="code" href="struct_maze_builder.html#a661370a64d52435709f40998d5e6a876">vx</a> = velocity.<a class="code" href="structvec2i.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  builder-&gt;<a class="code" href="struct_maze_builder.html#a2d40d89fd87fed87535edda876725473">vy</a> = velocity.<a class="code" href="structvec2i.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// clamp distance</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">if</span> (builder-&gt;<a class="code" href="struct_maze_builder.html#a661370a64d52435709f40998d5e6a876">vx</a> == 1) {</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a> = min(<a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a>, builder-&gt;<a class="code" href="struct_maze_builder.html#a093d9695bc7f56e2e457d8ccf15652c1">limit</a> - builder-&gt;<a class="code" href="struct_maze_builder.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (builder-&gt;<a class="code" href="struct_maze_builder.html#a661370a64d52435709f40998d5e6a876">vx</a> == -1) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a> = min(<a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a>, builder-&gt;<a class="code" href="struct_maze_builder.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (builder-&gt;<a class="code" href="struct_maze_builder.html#a2d40d89fd87fed87535edda876725473">vy</a> == 1) {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a> = min(<a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a>, builder-&gt;<a class="code" href="struct_maze_builder.html#a093d9695bc7f56e2e457d8ccf15652c1">limit</a> - builder-&gt;<a class="code" href="struct_maze_builder.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (builder-&gt;<a class="code" href="struct_maze_builder.html#a2d40d89fd87fed87535edda876725473">vy</a> == -1) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a> = min(<a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a>, builder-&gt;<a class="code" href="struct_maze_builder.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>);</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="comment">// eusures moving an even number of steps</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a> % 2) {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a>--;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  assert(<a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a> &gt;= 2);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  builder-&gt;<a class="code" href="struct_maze_builder.html#af1d511f1d6a3b2f54d3538d6c0c9bc94">remain</a> = <a class="code" href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a>;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="maze_8c.html#aa4c46de510227fd08255a4d84beea042">  135</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="maze_8c.html#aa4c46de510227fd08255a4d84beea042">calcWeight</a>(<a class="code" href="struct_maze_builder.html">MazeBuilder</a>* builder, <span class="keywordtype">char</span> axis) {</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <span class="keywordtype">int</span> weight = 0;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; builder-&gt;<a class="code" href="struct_maze_builder.html#a84eaa2ea10e531b15ba42f4113b66445">spawnerCount</a>; i++) {</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="comment">// skip self</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (i == builder-&gt;<a class="code" href="struct_maze_builder.html#a1167ce0f983cc8ca98daa671bab5c1e5">spawnerIndex</a>) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordtype">int</span> spawnerPos, builderPos;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keywordflow">if</span> (axis == <span class="charliteral">&#39;x&#39;</span>) {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      spawnerPos = builder-&gt;<a class="code" href="struct_maze_builder.html#a7e3e884121cbad08e7bce25624028e3c">spawners</a>[i].<a class="code" href="structvec2i.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      builderPos = builder-&gt;<a class="code" href="struct_maze_builder.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;      spawnerPos = builder-&gt;<a class="code" href="struct_maze_builder.html#a7e3e884121cbad08e7bce25624028e3c">spawners</a>[i].<a class="code" href="structvec2i.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      builderPos = builder-&gt;<a class="code" href="struct_maze_builder.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    weight += <a class="code" href="util_8c.html#abd4c35ac723582cd0751d1f92c494cf9">sign</a>(spawnerPos - builderPos);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">return</span> weight;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="maze_8c.html#ad3334b32ae7d44c02770c6554bb2d796">  168</a></span>&#160;<span class="keyword">static</span> <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> <a class="code" href="maze_8c.html#ad3334b32ae7d44c02770c6554bb2d796">chooseDirection</a>(<a class="code" href="struct_maze_builder.html">MazeBuilder</a>* builder, <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> bidir) {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="keywordflow">switch</span> (bidir) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa62c0837212e18f440238fc909d4db23c">DIR_HORIZONTAL</a>:</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="maze_8c.html#aa4c46de510227fd08255a4d84beea042">calcWeight</a>(builder, <span class="charliteral">&#39;x&#39;</span>) &gt; 0 ? <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa5dd21ef3d450f62c44082756cab8f6f8">DIR_RIGHT</a> : <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa1307dc42d06472935155dcbe283bc660">DIR_LEFT</a>;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa9495f4b306d2598e4fd81757b6258125">DIR_VERTICAL</a>:</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="maze_8c.html#aa4c46de510227fd08255a4d84beea042">calcWeight</a>(builder, <span class="charliteral">&#39;y&#39;</span>) &gt; 0 ? <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa0b76fb863426c07c6c997a8d9523257b">DIR_UP</a> : <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab1bf68da897d09488069dd40e54f442d">DIR_DOWN</a>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa2e15270378edc4b0861165674c651970">DIR_NONE</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;}</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="maze_8c.html#a834d32ead1bdc8c0b02c1c227aaee7e4">  186</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="maze_8c.html#a834d32ead1bdc8c0b02c1c227aaee7e4">turnBuilder</a>(<a class="code" href="struct_maze_builder.html">MazeBuilder</a>* builder) {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> current = builder-&gt;<a class="code" href="struct_maze_builder.html#a53421c695d00016ab925777d423b4eb6">direction</a>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> candidates = (current &amp; <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa9495f4b306d2598e4fd81757b6258125">DIR_VERTICAL</a>) ? <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa62c0837212e18f440238fc909d4db23c">DIR_HORIZONTAL</a> : <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa9495f4b306d2598e4fd81757b6258125">DIR_VERTICAL</a>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> next = <a class="code" href="maze_8c.html#a50b38ed3119892e7d6097ae02210d7cd">filterDirections</a>(builder-&gt;<a class="code" href="struct_maze_builder.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, builder-&gt;<a class="code" href="struct_maze_builder.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>, builder-&gt;<a class="code" href="struct_maze_builder.html#a093d9695bc7f56e2e457d8ccf15652c1">limit</a>, candidates);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  builder-&gt;<a class="code" href="struct_maze_builder.html#a53421c695d00016ab925777d423b4eb6">direction</a> = <a class="code" href="direction_8c.html#a00ce7bf08b168c0fdefe4e4579595072">isSingleDirection</a>(next) ? next : <a class="code" href="maze_8c.html#ad3334b32ae7d44c02770c6554bb2d796">chooseDirection</a>(builder, next);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="maze_8c.html#a43736a2fd7f3754cf0850eb4a0dda1ca">updateDistance</a>(builder);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno"><a class="line" href="maze_8c.html#aa8d2cae74b5d3d3873a6fd2c0d18ceff">  201</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="maze_8c.html#aa8d2cae74b5d3d3873a6fd2c0d18ceff">moveBuilder</a>(<a class="code" href="struct_maze_builder.html">MazeBuilder</a>* builder) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">if</span> (!builder-&gt;<a class="code" href="struct_maze_builder.html#af1d511f1d6a3b2f54d3538d6c0c9bc94">remain</a>) {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="maze_8c.html#a834d32ead1bdc8c0b02c1c227aaee7e4">turnBuilder</a>(builder);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  }</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  builder-&gt;<a class="code" href="struct_maze_builder.html#a6150e0515f7202e2fb518f7206ed97dc">x</a> += builder-&gt;<a class="code" href="struct_maze_builder.html#a661370a64d52435709f40998d5e6a876">vx</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  builder-&gt;<a class="code" href="struct_maze_builder.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a> += builder-&gt;<a class="code" href="struct_maze_builder.html#a2d40d89fd87fed87535edda876725473">vy</a>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  builder-&gt;<a class="code" href="struct_maze_builder.html#af1d511f1d6a3b2f54d3538d6c0c9bc94">remain</a>--;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">// ============ Builder End ============ //</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="maze_8c.html#aed03952c47ee96fcb0c5e07b581ff5fe">  233</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="maze_8c.html#aed03952c47ee96fcb0c5e07b581ff5fe">initSpawners</a>(<span class="keywordtype">int</span> count, <a class="code" href="structvec2i.html">vec2i</a> spawners[], <a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7">Tile</a> tiles[<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>][<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>]) {</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// max odd number of index</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> maxIndex = floor(<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a> / 2) * 2 - 1;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="comment">// split each row into at least 2 blocks</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> splits = max(2, round(count / 2.0));</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// shrink to [0.1, 0.9] area of the block to avoid spawners being too close</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span> lower = 0.1;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span> upper = 0.9;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span> halfBlockWidth = (<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a> - 3.0) / splits / 2.0;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">double</span> halfBlockHeight = (<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a> - 3.0) / 4.0;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; count; i++) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <span class="comment">// x</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="keywordtype">int</span> blockCol = i % 2 == 0 ? (i / 2) : (splits - 1 - i / 2);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="keywordtype">int</span> halfX = <a class="code" href="util_8c.html#a1e0c17c5d6e86def3e92241950b37b10">randomInt</a>(</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      ceil(halfBlockWidth * (blockCol + lower)),</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      floor(halfBlockWidth * (blockCol + upper))</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    );</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="comment">// y</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordtype">int</span> blockRow = i % 2;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordtype">int</span> halfY = <a class="code" href="util_8c.html#a1e0c17c5d6e86def3e92241950b37b10">randomInt</a>(</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      ceil(halfBlockHeight * (blockRow + lower)),</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      floor(halfBlockHeight * (blockRow + upper))</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    );</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// map into odd-numbered coordinates</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <a class="code" href="structvec2i.html">vec2i</a> s;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    s.<a class="code" href="structvec2i.html#a6150e0515f7202e2fb518f7206ed97dc">x</a> = <a class="code" href="util_8c.html#afbfdb6300fa4270b7317e08478460422">clamp</a>(halfX * 2 + 1, 1, maxIndex);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    s.<a class="code" href="structvec2i.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a> = <a class="code" href="util_8c.html#afbfdb6300fa4270b7317e08478460422">clamp</a>(halfY * 2 + 1, 1, maxIndex);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    spawners[i] = s;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    tiles[s.<a class="code" href="structvec2i.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>][s.<a class="code" href="structvec2i.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>] = <a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7acf2017c50a4405c3f8974734ee6054c5">TILE_KERNEL</a> | <a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7abd56e9ded1681ef9bf51e1bfd96e8daf">TILE_PATH</a>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  }</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="maze_8c.html#a9aa3efccca790d811fa69c623e58821d">  282</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="maze_8c.html#a9aa3efccca790d811fa69c623e58821d">initBuilders</a>(<span class="keywordtype">int</span> minDistance, <span class="keywordtype">int</span> maxDistance,</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                         <span class="keywordtype">int</span> spawnerCount, <a class="code" href="structvec2i.html">vec2i</a> spawners[],</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                         <a class="code" href="struct_list.html">List</a>* builders) {</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordtype">int</span> limit = <a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a> - 1;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; spawnerCount; i++) {</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <a class="code" href="structvec2i.html">vec2i</a> s = spawners[i];</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> directions[4];</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordtype">int</span> dirCount = <a class="code" href="direction_8c.html#a0a3e75a640a9fc4118904cda18735528">extractDirections</a>(<a class="code" href="maze_8c.html#a50b38ed3119892e7d6097ae02210d7cd">filterDirections</a>(s.<a class="code" href="structvec2i.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, s.<a class="code" href="structvec2i.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>, limit, <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab64ce3c2cad64235ed7c3c01f3347240">DIR_ALL</a>), directions);</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="util_8c.html#a8344770ccd7ac12e3604553de1f5e034">shuffle</a>(directions, dirCount, <span class="keyword">sizeof</span>(<a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a>));</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordtype">int</span> dirSelected = <a class="code" href="util_8c.html#a1e0c17c5d6e86def3e92241950b37b10">randomInt</a>(2, dirCount);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; dirSelected; j++) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <a class="code" href="struct_maze_builder.html">MazeBuilder</a>* builder = malloc(<span class="keyword">sizeof</span>(<a class="code" href="struct_maze_builder.html">MazeBuilder</a>));</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      builder-&gt;<a class="code" href="struct_maze_builder.html#a6150e0515f7202e2fb518f7206ed97dc">x</a> = s.<a class="code" href="structvec2i.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      builder-&gt;<a class="code" href="struct_maze_builder.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a> = s.<a class="code" href="structvec2i.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;      builder-&gt;<a class="code" href="struct_maze_builder.html#a093d9695bc7f56e2e457d8ccf15652c1">limit</a> = limit;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      builder-&gt;<a class="code" href="struct_maze_builder.html#abb529b46705d53eef9661ff459001bb0">minDistance</a> = minDistance;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      builder-&gt;<a class="code" href="struct_maze_builder.html#af059ce420773b142fe29b20ee5b71fda">maxDistance</a> = maxDistance;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      builder-&gt;<a class="code" href="struct_maze_builder.html#a53421c695d00016ab925777d423b4eb6">direction</a> = directions[j];</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      builder-&gt;<a class="code" href="struct_maze_builder.html#a7e3e884121cbad08e7bce25624028e3c">spawners</a> = spawners;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      builder-&gt;<a class="code" href="struct_maze_builder.html#a1167ce0f983cc8ca98daa671bab5c1e5">spawnerIndex</a> = i;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      builder-&gt;<a class="code" href="struct_maze_builder.html#a84eaa2ea10e531b15ba42f4113b66445">spawnerCount</a> = spawnerCount;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      builder-&gt;<a class="code" href="struct_maze_builder.html#a661370a64d52435709f40998d5e6a876">vx</a> = builder-&gt;<a class="code" href="struct_maze_builder.html#a2d40d89fd87fed87535edda876725473">vy</a> = builder-&gt;<a class="code" href="struct_maze_builder.html#af1d511f1d6a3b2f54d3538d6c0c9bc94">remain</a> = 0;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <a class="code" href="struct_node.html">Node</a>* node = <a class="code" href="list_8c.html#a751999a32a0e7079f6b1e8e8aef99da8">createNode</a>();</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;      node-&gt;<a class="code" href="struct_node.html#a735984d41155bc1032e09bece8f8d66d">data</a> = builder;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      <a class="code" href="list_8c.html#ab79876ee187918878d277b222adc2633">listAppend</a>(builders, node);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <a class="code" href="maze_8c.html#a43736a2fd7f3754cf0850eb4a0dda1ca">updateDistance</a>(builder);</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  }</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="maze_8c.html#a166864ccb4ead5b89debdad13502a2c7">  326</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="maze_8c.html#a166864ccb4ead5b89debdad13502a2c7">generateMap</a>(<a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7">Tile</a> tiles[<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>][<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>], <a class="code" href="struct_list.html">List</a>* builders) {</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  <span class="keywordflow">while</span> (builders-&gt;<a class="code" href="struct_list.html#a76d971a3c552bc58ba9f0d5fceae9806">count</a>) {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <a class="code" href="struct_list_iterator.html">ListIterator</a> it = <a class="code" href="list_8c.html#acf0004eb7a5746564989d19493570c8b">createListIterator</a>(builders);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">while</span> (!it.<a class="code" href="struct_list_iterator.html#a1d39aac66e12dae50a24cd7a9100ef33">done</a>) {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;      <a class="code" href="struct_node.html">Node</a>* node = it.<a class="code" href="struct_list_iterator.html#a3320f34637f150074fa6a52ebb884f9a">next</a>(&amp;it);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <a class="code" href="struct_maze_builder.html">MazeBuilder</a>* b = node-&gt;<a class="code" href="struct_node.html#a735984d41155bc1032e09bece8f8d66d">data</a>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="maze_8c.html#aa8d2cae74b5d3d3873a6fd2c0d18ceff">moveBuilder</a>(b);</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">if</span> (tiles[b-&gt;<a class="code" href="struct_maze_builder.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>][b-&gt;<a class="code" href="struct_maze_builder.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>] &amp; <a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7aca9a58b835a62c5e717724d4f1fb16a8">TILE_OPEN</a>) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="comment">// remove collided builders</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <a class="code" href="list_8c.html#a701bb943206c45327d84ca70d4dc7791">listDelete</a>(builders, node);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        tiles[b-&gt;<a class="code" href="struct_maze_builder.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>][b-&gt;<a class="code" href="struct_maze_builder.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>] = <a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7a4719c727495694da73225f1de43d10d6">TILE_COIN</a> | <a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7abd56e9ded1681ef9bf51e1bfd96e8daf">TILE_PATH</a>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;}</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno"><a class="line" href="maze_8c.html#a70e4ffa47c8ce715c88f3b5328ff06d1">  354</a></span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="maze_8c.html#a70e4ffa47c8ce715c88f3b5328ff06d1">fixMap</a>(<a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7">Tile</a> tiles[<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>][<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>], <a class="code" href="structvec2i.html">vec2i</a>* startPoint) {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <a class="code" href="struct_flood_state.html">FloodState</a>* state = <a class="code" href="floodfill_8c.html#a8f7ff33be282269ca389d21e8237ec95">floodFill</a>(tiles, startPoint-&gt;<a class="code" href="structvec2i.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, startPoint-&gt;<a class="code" href="structvec2i.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>);</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>; i++) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> j = 0; j &lt; <a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>; j++) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <span class="keywordflow">if</span> (tiles[i][j] &amp; <a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7aca9a58b835a62c5e717724d4f1fb16a8">TILE_OPEN</a> &amp;&amp;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;          state-&gt;<a class="code" href="struct_flood_state.html#ac2bf2bf1be7c0801f70af8ff2784c80b">depthMap</a>[i][j] == <a class="code" href="floodfill_8h.html#a5ca445e682517f2c39d5a85cc2ef8ef8">FLOOD_DEPTH_UNVISITED</a>) {</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        tiles[i][j] = <a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7afc3e42901752d92e55d61c1a5caec31b">TILE_WALL</a>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      }</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    }</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  }</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="keywordtype">int</span> pathLength = state-&gt;<a class="code" href="struct_flood_state.html#a631341956c255e7659119b88e991b43b">pathLength</a>;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;  <a class="code" href="floodfill_8c.html#ae63068a87333f61753d1b558c7715022">floodDestory</a>(state);</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">return</span> pathLength;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div><div class="line"><a name="l00373"></a><span class="lineno"><a class="line" href="maze_8h.html#a6729c2de195f9f7f33a43ea00b2f15f7">  373</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="maze_8c.html#a6729c2de195f9f7f33a43ea00b2f15f7">initMaze</a>(<span class="keywordtype">int</span> spawnerCount,</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;             <span class="keywordtype">int</span> minDistance, <span class="keywordtype">int</span> maxDistance,</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;             <a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7">Tile</a> tiles[<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>][<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>]) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  <a class="code" href="structvec2i.html">vec2i</a>* spawners = malloc(<span class="keyword">sizeof</span>(<a class="code" href="structvec2i.html">vec2i</a>) * spawnerCount);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <a class="code" href="struct_list.html">List</a>* builders = <a class="code" href="list_8c.html#a0b267f1da47ce83075b57dfdb6965af4">createList</a>();</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  memset(tiles, <a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7afc3e42901752d92e55d61c1a5caec31b">TILE_WALL</a>, <span class="keyword">sizeof</span>(tiles[0][0]) * <a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a> * <a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <a class="code" href="maze_8c.html#aed03952c47ee96fcb0c5e07b581ff5fe">initSpawners</a>(spawnerCount, spawners, tiles);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  <a class="code" href="maze_8c.html#a9aa3efccca790d811fa69c623e58821d">initBuilders</a>(minDistance, maxDistance, spawnerCount, spawners, builders);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <a class="code" href="maze_8c.html#a166864ccb4ead5b89debdad13502a2c7">generateMap</a>(tiles, builders);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordtype">int</span> pathLength = <a class="code" href="maze_8c.html#a70e4ffa47c8ce715c88f3b5328ff06d1">fixMap</a>(tiles, &amp;spawners[0]);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  free(spawners);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <a class="code" href="list_8c.html#a227e3db638a11e5ca265971f24b9e82f">listDestory</a>(builders);</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keywordflow">return</span> pathLength;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;<span class="comment">// check if the given position is path</span></div><div class="line"><a name="l00395"></a><span class="lineno"><a class="line" href="maze_8h.html#a7f73e06d570628a38c9dfadb661c2d0f">  395</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="maze_8c.html#a7f73e06d570628a38c9dfadb661c2d0f">isPath</a>(<a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7">Tile</a> tiles[<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>][<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>],</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y) {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordflow">if</span> (x &lt; 0 || x &gt;= <a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a> ||</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      y &lt; 0 || y &gt;= <a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>) {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordflow">return</span> tiles[y][x] &amp; <a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7aca9a58b835a62c5e717724d4f1fb16a8">TILE_OPEN</a>;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;}</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div><div class="line"><a name="l00405"></a><span class="lineno"><a class="line" href="maze_8h.html#a37274390ec6a74360b0d047c5d53be98">  405</a></span>&#160;<a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> <a class="code" href="maze_8c.html#a37274390ec6a74360b0d047c5d53be98">getAvailableDirection</a>(<a class="code" href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7">Tile</a> tiles[<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>][<a class="code" href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a>],</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                                <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y) {</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a> direction = <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa2e15270378edc4b0861165674c651970">DIR_NONE</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="maze_8c.html#a7f73e06d570628a38c9dfadb661c2d0f">isPath</a>(tiles, x, y - 1)) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    direction = <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab1bf68da897d09488069dd40e54f442d">DIR_DOWN</a>;</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="maze_8c.html#a7f73e06d570628a38c9dfadb661c2d0f">isPath</a>(tiles, x, y + 1)) {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    direction = <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa0b76fb863426c07c6c997a8d9523257b">DIR_UP</a>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="maze_8c.html#a7f73e06d570628a38c9dfadb661c2d0f">isPath</a>(tiles, x - 1, y)) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    direction = <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa1307dc42d06472935155dcbe283bc660">DIR_LEFT</a>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="maze_8c.html#a7f73e06d570628a38c9dfadb661c2d0f">isPath</a>(tiles, x + 1, y)) {</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    direction = <a class="code" href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa5dd21ef3d450f62c44082756cab8f6f8">DIR_RIGHT</a>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  }</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <span class="keywordflow">return</span> direction;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;}</div><div class="ttc" id="struct_maze_builder_html_a1167ce0f983cc8ca98daa671bab5c1e5"><div class="ttname"><a href="struct_maze_builder.html#a1167ce0f983cc8ca98daa671bab5c1e5">MazeBuilder::spawnerIndex</a></div><div class="ttdeci">int spawnerIndex</div><div class="ttdoc">このビルダーを作った生成器のインデックス</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00054">maze.c:54</a></div></div>
<div class="ttc" id="struct_maze_builder_html_a7e3e884121cbad08e7bce25624028e3c"><div class="ttname"><a href="struct_maze_builder.html#a7e3e884121cbad08e7bce25624028e3c">MazeBuilder::spawners</a></div><div class="ttdeci">vec2i * spawners</div><div class="ttdoc">生成器の配列</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00052">maze.c:52</a></div></div>
<div class="ttc" id="direction_8h_html_a224b9163917ac32fc95a60d8c1eec3aaa0b76fb863426c07c6c997a8d9523257b"><div class="ttname"><a href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa0b76fb863426c07c6c997a8d9523257b">DIR_UP</a></div><div class="ttdoc">上</div><div class="ttdef"><b>Definition:</b> <a href="direction_8h_source.html#l00020">direction.h:20</a></div></div>
<div class="ttc" id="maze_8c_html_a166864ccb4ead5b89debdad13502a2c7"><div class="ttname"><a href="maze_8c.html#a166864ccb4ead5b89debdad13502a2c7">generateMap</a></div><div class="ttdeci">static void generateMap(Tile tiles[MAZE_SIZE][MAZE_SIZE], List *builders)</div><div class="ttdoc">迷路を生成する</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00326">maze.c:326</a></div></div>
<div class="ttc" id="direction_8h_html_a224b9163917ac32fc95a60d8c1eec3aa"><div class="ttname"><a href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aa">Direction</a></div><div class="ttdeci">Direction</div><div class="ttdoc">方向</div><div class="ttdef"><b>Definition:</b> <a href="direction_8h_source.html#l00016">direction.h:16</a></div></div>
<div class="ttc" id="config_8h_html_a435c893b3d82298d514a7c5f1e433bff"><div class="ttname"><a href="config_8h.html#a435c893b3d82298d514a7c5f1e433bff">MAZE_SIZE</a></div><div class="ttdeci">#define MAZE_SIZE</div><div class="ttdoc">迷路のサイズ</div><div class="ttdef"><b>Definition:</b> <a href="config_8h_source.html#l00009">config.h:9</a></div></div>
<div class="ttc" id="struct_maze_builder_html_a661370a64d52435709f40998d5e6a876"><div class="ttname"><a href="struct_maze_builder.html#a661370a64d52435709f40998d5e6a876">MazeBuilder::vx</a></div><div class="ttdeci">int vx</div><div class="ttdoc">x 方向における移動スピード</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00035">maze.c:35</a></div></div>
<div class="ttc" id="struct_list_iterator_html"><div class="ttname"><a href="struct_list_iterator.html">ListIterator</a></div><div class="ttdoc">リストの繰り返し処理を抽象化する，リストイテレータオブジェクト</div><div class="ttdef"><b>Definition:</b> <a href="list_8h_source.html#l00145">list.h:145</a></div></div>
<div class="ttc" id="direction_8h_html_a224b9163917ac32fc95a60d8c1eec3aaab1bf68da897d09488069dd40e54f442d"><div class="ttname"><a href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab1bf68da897d09488069dd40e54f442d">DIR_DOWN</a></div><div class="ttdoc">下</div><div class="ttdef"><b>Definition:</b> <a href="direction_8h_source.html#l00024">direction.h:24</a></div></div>
<div class="ttc" id="maze_8c_html_a6e2e72bfedc38d5f199e3f3719b1630c"><div class="ttname"><a href="maze_8c.html#a6e2e72bfedc38d5f199e3f3719b1630c">MazeBuilder</a></div><div class="ttdeci">struct MazeBuilder MazeBuilder</div><div class="ttdoc">迷路のビルダー</div></div>
<div class="ttc" id="floodfill_8h_html"><div class="ttname"><a href="floodfill_8h.html">floodfill.h</a></div><div class="ttdoc">Flood-fill アルゴリズム（ヘッダファイル）</div></div>
<div class="ttc" id="struct_maze_builder_html_af059ce420773b142fe29b20ee5b71fda"><div class="ttname"><a href="struct_maze_builder.html#af059ce420773b142fe29b20ee5b71fda">MazeBuilder::maxDistance</a></div><div class="ttdeci">int maxDistance</div><div class="ttdoc">最大走行距離</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00047">maze.c:47</a></div></div>
<div class="ttc" id="list_8c_html_a751999a32a0e7079f6b1e8e8aef99da8"><div class="ttname"><a href="list_8c.html#a751999a32a0e7079f6b1e8e8aef99da8">createNode</a></div><div class="ttdeci">Node * createNode(void)</div><div class="ttdoc">新しいノードを生成する</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00142">list.c:142</a></div></div>
<div class="ttc" id="util_8c_html_a1e0c17c5d6e86def3e92241950b37b10"><div class="ttname"><a href="util_8c.html#a1e0c17c5d6e86def3e92241950b37b10">randomInt</a></div><div class="ttdeci">int randomInt(int lower, int upper)</div><div class="ttdoc">指定される区間 [lower, upper] から int 型の乱数を生成する</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00023">util.c:23</a></div></div>
<div class="ttc" id="direction_8h_html_a224b9163917ac32fc95a60d8c1eec3aaab64ce3c2cad64235ed7c3c01f3347240"><div class="ttname"><a href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaab64ce3c2cad64235ed7c3c01f3347240">DIR_ALL</a></div><div class="ttdoc">すべての方向</div><div class="ttdef"><b>Definition:</b> <a href="direction_8h_source.html#l00033">direction.h:33</a></div></div>
<div class="ttc" id="list_8c_html_acf0004eb7a5746564989d19493570c8b"><div class="ttname"><a href="list_8c.html#acf0004eb7a5746564989d19493570c8b">createListIterator</a></div><div class="ttdeci">ListIterator createListIterator(List *list)</div><div class="ttdoc">特定のリストに対して，イテレータを生成する</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00189">list.c:189</a></div></div>
<div class="ttc" id="config_8h_html"><div class="ttname"><a href="config_8h.html">config.h</a></div><div class="ttdoc">ゲームの設定</div></div>
<div class="ttc" id="maze_8c_html_a70e4ffa47c8ce715c88f3b5328ff06d1"><div class="ttname"><a href="maze_8c.html#a70e4ffa47c8ce715c88f3b5328ff06d1">fixMap</a></div><div class="ttdeci">static int fixMap(Tile tiles[MAZE_SIZE][MAZE_SIZE], vec2i *startPoint)</div><div class="ttdoc">孤立した部分（離島）を迷路から排除する</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00354">maze.c:354</a></div></div>
<div class="ttc" id="maze_8c_html_aa4c46de510227fd08255a4d84beea042"><div class="ttname"><a href="maze_8c.html#aa4c46de510227fd08255a4d84beea042">calcWeight</a></div><div class="ttdeci">static int calcWeight(MazeBuilder *builder, char axis)</div><div class="ttdoc">ビルダーの位置において，横軸（方向）または縦軸（方向）のウェイトを計算する</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00135">maze.c:135</a></div></div>
<div class="ttc" id="maze_8c_html_a37274390ec6a74360b0d047c5d53be98"><div class="ttname"><a href="maze_8c.html#a37274390ec6a74360b0d047c5d53be98">getAvailableDirection</a></div><div class="ttdeci">Direction getAvailableDirection(Tile tiles[MAZE_SIZE][MAZE_SIZE], int x, int y)</div><div class="ttdoc">指定のタイルにおいて，移動できる方向をチェックする</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00405">maze.c:405</a></div></div>
<div class="ttc" id="tile_8h_html_acd2017d946fd818c3b8ca377bc4006c7abd56e9ded1681ef9bf51e1bfd96e8daf"><div class="ttname"><a href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7abd56e9ded1681ef9bf51e1bfd96e8daf">TILE_PATH</a></div><div class="ttdoc">道</div><div class="ttdef"><b>Definition:</b> <a href="tile_8h_source.html#l00018">tile.h:18</a></div></div>
<div class="ttc" id="direction_8h_html_a224b9163917ac32fc95a60d8c1eec3aaa5dd21ef3d450f62c44082756cab8f6f8"><div class="ttname"><a href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa5dd21ef3d450f62c44082756cab8f6f8">DIR_RIGHT</a></div><div class="ttdoc">右</div><div class="ttdef"><b>Definition:</b> <a href="direction_8h_source.html#l00022">direction.h:22</a></div></div>
<div class="ttc" id="struct_list_iterator_html_a1d39aac66e12dae50a24cd7a9100ef33"><div class="ttname"><a href="struct_list_iterator.html#a1d39aac66e12dae50a24cd7a9100ef33">ListIterator::done</a></div><div class="ttdeci">bool done</div><div class="ttdoc">イテレーションが終わったのか</div><div class="ttdef"><b>Definition:</b> <a href="list_8h_source.html#l00172">list.h:172</a></div></div>
<div class="ttc" id="util_8c_html_a8344770ccd7ac12e3604553de1f5e034"><div class="ttname"><a href="util_8c.html#a8344770ccd7ac12e3604553de1f5e034">shuffle</a></div><div class="ttdeci">void shuffle(void *_array, size_t length, size_t bytesPerElement)</div><div class="ttdoc">配列の要素をランダムに並べ替える</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00038">util.c:38</a></div></div>
<div class="ttc" id="structvec2i_html_a6150e0515f7202e2fb518f7206ed97dc"><div class="ttname"><a href="structvec2i.html#a6150e0515f7202e2fb518f7206ed97dc">vec2i::x</a></div><div class="ttdeci">int x</div><div class="ttdoc">x 座標</div><div class="ttdef"><b>Definition:</b> <a href="util_8h_source.html#l00041">util.h:41</a></div></div>
<div class="ttc" id="struct_maze_builder_html_a84eaa2ea10e531b15ba42f4113b66445"><div class="ttname"><a href="struct_maze_builder.html#a84eaa2ea10e531b15ba42f4113b66445">MazeBuilder::spawnerCount</a></div><div class="ttdeci">int spawnerCount</div><div class="ttdoc">生成器の数</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00056">maze.c:56</a></div></div>
<div class="ttc" id="struct_maze_builder_html_a53421c695d00016ab925777d423b4eb6"><div class="ttname"><a href="struct_maze_builder.html#a53421c695d00016ab925777d423b4eb6">MazeBuilder::direction</a></div><div class="ttdeci">Direction direction</div><div class="ttdoc">ビルダーの向き</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00050">maze.c:50</a></div></div>
<div class="ttc" id="maze_8c_html_a7f73e06d570628a38c9dfadb661c2d0f"><div class="ttname"><a href="maze_8c.html#a7f73e06d570628a38c9dfadb661c2d0f">isPath</a></div><div class="ttdeci">bool isPath(Tile tiles[MAZE_SIZE][MAZE_SIZE], int x, int y)</div><div class="ttdoc">指定のタイルが空いているのかをチェックする</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00395">maze.c:395</a></div></div>
<div class="ttc" id="floodfill_8c_html_a8f7ff33be282269ca389d21e8237ec95"><div class="ttname"><a href="floodfill_8c.html#a8f7ff33be282269ca389d21e8237ec95">floodFill</a></div><div class="ttdeci">FloodState * floodFill(Tile tiles[MAZE_SIZE][MAZE_SIZE], int x, int y)</div><div class="ttdoc">Flood-fill を指定のタイルから自動的に実行する</div><div class="ttdef"><b>Definition:</b> <a href="floodfill_8c_source.html#l00100">floodfill.c:100</a></div></div>
<div class="ttc" id="maze_8c_html_a6729c2de195f9f7f33a43ea00b2f15f7"><div class="ttname"><a href="maze_8c.html#a6729c2de195f9f7f33a43ea00b2f15f7">initMaze</a></div><div class="ttdeci">int initMaze(int spawnerCount, int minDistance, int maxDistance, Tile tiles[MAZE_SIZE][MAZE_SIZE])</div><div class="ttdoc">迷路を生成する</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00373">maze.c:373</a></div></div>
<div class="ttc" id="direction_8h_html_a224b9163917ac32fc95a60d8c1eec3aaa1307dc42d06472935155dcbe283bc660"><div class="ttname"><a href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa1307dc42d06472935155dcbe283bc660">DIR_LEFT</a></div><div class="ttdoc">左</div><div class="ttdef"><b>Definition:</b> <a href="direction_8h_source.html#l00026">direction.h:26</a></div></div>
<div class="ttc" id="maze_8c_html_a9aa3efccca790d811fa69c623e58821d"><div class="ttname"><a href="maze_8c.html#a9aa3efccca790d811fa69c623e58821d">initBuilders</a></div><div class="ttdeci">static void initBuilders(int minDistance, int maxDistance, int spawnerCount, vec2i spawners[], List *builders)</div><div class="ttdoc">ビルダーを初期化する</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00282">maze.c:282</a></div></div>
<div class="ttc" id="struct_list_html_a76d971a3c552bc58ba9f0d5fceae9806"><div class="ttname"><a href="struct_list.html#a76d971a3c552bc58ba9f0d5fceae9806">List::count</a></div><div class="ttdeci">size_t count</div><div class="ttdoc">リストのサイズ（ノードの数）</div><div class="ttdef"><b>Definition:</b> <a href="list_8h_source.html#l00029">list.h:29</a></div></div>
<div class="ttc" id="tile_8h_html_acd2017d946fd818c3b8ca377bc4006c7a4719c727495694da73225f1de43d10d6"><div class="ttname"><a href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7a4719c727495694da73225f1de43d10d6">TILE_COIN</a></div><div class="ttdoc">コイン</div><div class="ttdef"><b>Definition:</b> <a href="tile_8h_source.html#l00020">tile.h:20</a></div></div>
<div class="ttc" id="struct_maze_builder_html_af1d511f1d6a3b2f54d3538d6c0c9bc94"><div class="ttname"><a href="struct_maze_builder.html#af1d511f1d6a3b2f54d3538d6c0c9bc94">MazeBuilder::remain</a></div><div class="ttdeci">int remain</div><div class="ttdoc">残りの歩数</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00042">maze.c:42</a></div></div>
<div class="ttc" id="tile_8h_html_acd2017d946fd818c3b8ca377bc4006c7"><div class="ttname"><a href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7">Tile</a></div><div class="ttdeci">Tile</div><div class="ttdoc">タイル</div><div class="ttdef"><b>Definition:</b> <a href="tile_8h_source.html#l00011">tile.h:11</a></div></div>
<div class="ttc" id="list_8c_html_a227e3db638a11e5ca265971f24b9e82f"><div class="ttname"><a href="list_8c.html#a227e3db638a11e5ca265971f24b9e82f">listDestory</a></div><div class="ttdeci">void listDestory(List *list)</div><div class="ttdoc">リストを廃棄する</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00128">list.c:128</a></div></div>
<div class="ttc" id="maze_8h_html"><div class="ttname"><a href="maze_8h.html">maze.h</a></div><div class="ttdoc">迷路の生成など（ヘッダファイル）</div></div>
<div class="ttc" id="direction_8h_html_a224b9163917ac32fc95a60d8c1eec3aaa62c0837212e18f440238fc909d4db23c"><div class="ttname"><a href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa62c0837212e18f440238fc909d4db23c">DIR_HORIZONTAL</a></div><div class="ttdoc">横方向</div><div class="ttdef"><b>Definition:</b> <a href="direction_8h_source.html#l00031">direction.h:31</a></div></div>
<div class="ttc" id="structvec2i_html"><div class="ttname"><a href="structvec2i.html">vec2i</a></div><div class="ttdoc">int 型の2次元ベクトル</div><div class="ttdef"><b>Definition:</b> <a href="util_8h_source.html#l00039">util.h:39</a></div></div>
<div class="ttc" id="maze_8c_html_ad3334b32ae7d44c02770c6554bb2d796"><div class="ttname"><a href="maze_8c.html#ad3334b32ae7d44c02770c6554bb2d796">chooseDirection</a></div><div class="ttdeci">static Direction chooseDirection(MazeBuilder *builder, Direction bidir)</div><div class="ttdoc">ビルダーが曲がるときに，他の生成器に近づける方向（ウェイトの大きい）を選ぶ</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00168">maze.c:168</a></div></div>
<div class="ttc" id="list_8h_html"><div class="ttname"><a href="list_8h.html">list.h</a></div><div class="ttdoc">双方向連結リスト ＜ヘッダファイル＞</div></div>
<div class="ttc" id="struct_maze_builder_html"><div class="ttname"><a href="struct_maze_builder.html">MazeBuilder</a></div><div class="ttdoc">迷路のビルダー</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00028">maze.c:28</a></div></div>
<div class="ttc" id="floodfill_8c_html_ae63068a87333f61753d1b558c7715022"><div class="ttname"><a href="floodfill_8c.html#ae63068a87333f61753d1b558c7715022">floodDestory</a></div><div class="ttdeci">void floodDestory(FloodState *state)</div><div class="ttdoc">指定の Flood-fill を廃棄する</div><div class="ttdef"><b>Definition:</b> <a href="floodfill_8c_source.html#l00112">floodfill.c:112</a></div></div>
<div class="ttc" id="util_8h_html_a721b8038f5b6dbdb855ed58eedfac29e"><div class="ttname"><a href="util_8h.html#a721b8038f5b6dbdb855ed58eedfac29e">clearBits</a></div><div class="ttdeci">#define clearBits(target, mask)</div><div class="ttdoc">目標の変数に特定のビットをクリアする</div><div class="ttdef"><b>Definition:</b> <a href="util_8h_source.html#l00034">util.h:34</a></div></div>
<div class="ttc" id="tile_8h_html"><div class="ttname"><a href="tile_8h.html">tile.h</a></div><div class="ttdoc">タイルの定義（ヘッダファイル）</div></div>
<div class="ttc" id="list_8c_html_ab79876ee187918878d277b222adc2633"><div class="ttname"><a href="list_8c.html#ab79876ee187918878d277b222adc2633">listAppend</a></div><div class="ttdeci">void listAppend(List *list, Node *node)</div><div class="ttdoc">リストの最後に一個のノードを追加する</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00013">list.c:13</a></div></div>
<div class="ttc" id="struct_maze_builder_html_a2d40d89fd87fed87535edda876725473"><div class="ttname"><a href="struct_maze_builder.html#a2d40d89fd87fed87535edda876725473">MazeBuilder::vy</a></div><div class="ttdeci">int vy</div><div class="ttdoc">y 方向における移動スピード</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00037">maze.c:37</a></div></div>
<div class="ttc" id="floodfill_8h_html_a5ca445e682517f2c39d5a85cc2ef8ef8"><div class="ttname"><a href="floodfill_8h.html#a5ca445e682517f2c39d5a85cc2ef8ef8">FLOOD_DEPTH_UNVISITED</a></div><div class="ttdeci">#define FLOOD_DEPTH_UNVISITED</div><div class="ttdoc">未訪問のタイル</div><div class="ttdef"><b>Definition:</b> <a href="floodfill_8h_source.html#l00017">floodfill.h:17</a></div></div>
<div class="ttc" id="maze_8c_html_aed03952c47ee96fcb0c5e07b581ff5fe"><div class="ttname"><a href="maze_8c.html#aed03952c47ee96fcb0c5e07b581ff5fe">initSpawners</a></div><div class="ttdeci">static void initSpawners(int count, vec2i spawners[], Tile tiles[MAZE_SIZE][MAZE_SIZE])</div><div class="ttdoc">生成器を初期化する</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00233">maze.c:233</a></div></div>
<div class="ttc" id="util_8h_html"><div class="ttname"><a href="util_8h.html">util.h</a></div><div class="ttdoc">ユーティリティ ＜ヘッダファイル＞</div></div>
<div class="ttc" id="struct_maze_builder_html_a0a2f84ed7838f07779ae24c5a9086d33"><div class="ttname"><a href="struct_maze_builder.html#a0a2f84ed7838f07779ae24c5a9086d33">MazeBuilder::y</a></div><div class="ttdeci">int y</div><div class="ttdoc">ビルダーの y 座標</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00032">maze.c:32</a></div></div>
<div class="ttc" id="list_8c_html_a701bb943206c45327d84ca70d4dc7791"><div class="ttname"><a href="list_8c.html#a701bb943206c45327d84ca70d4dc7791">listDelete</a></div><div class="ttdeci">void listDelete(List *list, Node *node)</div><div class="ttdoc">リストから特定のノードを削除する</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00049">list.c:49</a></div></div>
<div class="ttc" id="struct_list_iterator_html_a3320f34637f150074fa6a52ebb884f9a"><div class="ttname"><a href="struct_list_iterator.html#a3320f34637f150074fa6a52ebb884f9a">ListIterator::next</a></div><div class="ttdeci">Node *(* next)(struct ListIterator *)</div><div class="ttdoc">イテレータを次のノードに移動させるメソッド</div><div class="ttdef"><b>Definition:</b> <a href="list_8h_source.html#l00180">list.h:180</a></div></div>
<div class="ttc" id="util_8c_html_abd4c35ac723582cd0751d1f92c494cf9"><div class="ttname"><a href="util_8c.html#abd4c35ac723582cd0751d1f92c494cf9">sign</a></div><div class="ttdeci">int sign(double num)</div><div class="ttdoc">数値が正，負，0 のどれであるかを示す符号を求める</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00053">util.c:53</a></div></div>
<div class="ttc" id="tile_8h_html_acd2017d946fd818c3b8ca377bc4006c7acf2017c50a4405c3f8974734ee6054c5"><div class="ttname"><a href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7acf2017c50a4405c3f8974734ee6054c5">TILE_KERNEL</a></div><div class="ttdoc">火の玉</div><div class="ttdef"><b>Definition:</b> <a href="tile_8h_source.html#l00022">tile.h:22</a></div></div>
<div class="ttc" id="direction_8h_html"><div class="ttname"><a href="direction_8h.html">direction.h</a></div><div class="ttdoc">方向の定義（ヘッダファイル）</div></div>
<div class="ttc" id="struct_flood_state_html_a631341956c255e7659119b88e991b43b"><div class="ttname"><a href="struct_flood_state.html#a631341956c255e7659119b88e991b43b">FloodState::pathLength</a></div><div class="ttdeci">int pathLength</div><div class="ttdoc">開いているタイルの数</div><div class="ttdef"><b>Definition:</b> <a href="floodfill_8h_source.html#l00030">floodfill.h:30</a></div></div>
<div class="ttc" id="tile_8h_html_acd2017d946fd818c3b8ca377bc4006c7aca9a58b835a62c5e717724d4f1fb16a8"><div class="ttname"><a href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7aca9a58b835a62c5e717724d4f1fb16a8">TILE_OPEN</a></div><div class="ttdoc">開いているタイル</div><div class="ttdef"><b>Definition:</b> <a href="tile_8h_source.html#l00030">tile.h:30</a></div></div>
<div class="ttc" id="structvec2i_html_a0a2f84ed7838f07779ae24c5a9086d33"><div class="ttname"><a href="structvec2i.html#a0a2f84ed7838f07779ae24c5a9086d33">vec2i::y</a></div><div class="ttdeci">int y</div><div class="ttdoc">y 座標</div><div class="ttdef"><b>Definition:</b> <a href="util_8h_source.html#l00043">util.h:43</a></div></div>
<div class="ttc" id="maze_8c_html_a50b38ed3119892e7d6097ae02210d7cd"><div class="ttname"><a href="maze_8c.html#a50b38ed3119892e7d6097ae02210d7cd">filterDirections</a></div><div class="ttdeci">static Direction filterDirections(int x, int y, int limit, Direction candidates)</div><div class="ttdoc">複数の方向から進まない方向を取り除く</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00069">maze.c:69</a></div></div>
<div class="ttc" id="struct_maze_builder_html_abb529b46705d53eef9661ff459001bb0"><div class="ttname"><a href="struct_maze_builder.html#abb529b46705d53eef9661ff459001bb0">MazeBuilder::minDistance</a></div><div class="ttdeci">int minDistance</div><div class="ttdoc">最短走行距離</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00045">maze.c:45</a></div></div>
<div class="ttc" id="util_8c_html_a7d653a23bc3022afd9b32e419abbbc2d"><div class="ttname"><a href="util_8c.html#a7d653a23bc3022afd9b32e419abbbc2d">distance</a></div><div class="ttdeci">double distance(double x1, double y1, double x2, double y2)</div><div class="ttdoc">2つの点 a, b の距離を計算する</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00076">util.c:76</a></div></div>
<div class="ttc" id="util_8c_html_afbfdb6300fa4270b7317e08478460422"><div class="ttname"><a href="util_8c.html#afbfdb6300fa4270b7317e08478460422">clamp</a></div><div class="ttdeci">double clamp(double val, double min, double max)</div><div class="ttdoc">[min, max] の区間に制限された値を返す</div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00066">util.c:66</a></div></div>
<div class="ttc" id="struct_node_html_a735984d41155bc1032e09bece8f8d66d"><div class="ttname"><a href="struct_node.html#a735984d41155bc1032e09bece8f8d66d">Node::data</a></div><div class="ttdeci">void * data</div><div class="ttdoc">ノードに格納されるデータ</div><div class="ttdef"><b>Definition:</b> <a href="list_8h_source.html#l00017">list.h:17</a></div></div>
<div class="ttc" id="struct_maze_builder_html_a6150e0515f7202e2fb518f7206ed97dc"><div class="ttname"><a href="struct_maze_builder.html#a6150e0515f7202e2fb518f7206ed97dc">MazeBuilder::x</a></div><div class="ttdeci">int x</div><div class="ttdoc">ビルダーの x 座標</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00030">maze.c:30</a></div></div>
<div class="ttc" id="struct_list_html"><div class="ttname"><a href="struct_list.html">List</a></div><div class="ttdoc">リストオブジェクト</div><div class="ttdef"><b>Definition:</b> <a href="list_8h_source.html#l00027">list.h:27</a></div></div>
<div class="ttc" id="struct_flood_state_html_ac2bf2bf1be7c0801f70af8ff2784c80b"><div class="ttname"><a href="struct_flood_state.html#ac2bf2bf1be7c0801f70af8ff2784c80b">FloodState::depthMap</a></div><div class="ttdeci">int depthMap[MAZE_SIZE][MAZE_SIZE]</div><div class="ttdoc">各タイルに対して水が流れてくるまでの歩数</div><div class="ttdef"><b>Definition:</b> <a href="floodfill_8h_source.html#l00028">floodfill.h:28</a></div></div>
<div class="ttc" id="direction_8c_html_a33c2147038512b4068c34d6b219b773d"><div class="ttname"><a href="direction_8c.html#a33c2147038512b4068c34d6b219b773d">directionToDelta</a></div><div class="ttdeci">vec2i directionToDelta(Direction dir)</div><div class="ttdoc">方向をデルタ（変位）に変換する</div><div class="ttdef"><b>Definition:</b> <a href="direction_8c_source.html#l00036">direction.c:36</a></div></div>
<div class="ttc" id="direction_8c_html_a0a3e75a640a9fc4118904cda18735528"><div class="ttname"><a href="direction_8c.html#a0a3e75a640a9fc4118904cda18735528">extractDirections</a></div><div class="ttdeci">int extractDirections(Direction dir, Direction res[4])</div><div class="ttdoc">複数の方向の組み合わせを展開する</div><div class="ttdef"><b>Definition:</b> <a href="direction_8c_source.html#l00014">direction.c:14</a></div></div>
<div class="ttc" id="struct_maze_builder_html_a093d9695bc7f56e2e457d8ccf15652c1"><div class="ttname"><a href="struct_maze_builder.html#a093d9695bc7f56e2e457d8ccf15652c1">MazeBuilder::limit</a></div><div class="ttdeci">int limit</div><div class="ttdoc">迷路の大きさ制限</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00040">maze.c:40</a></div></div>
<div class="ttc" id="struct_node_html"><div class="ttname"><a href="struct_node.html">Node</a></div><div class="ttdoc">ノード（節点）オブジェクト</div><div class="ttdef"><b>Definition:</b> <a href="list_8h_source.html#l00015">list.h:15</a></div></div>
<div class="ttc" id="maze_8c_html_a834d32ead1bdc8c0b02c1c227aaee7e4"><div class="ttname"><a href="maze_8c.html#a834d32ead1bdc8c0b02c1c227aaee7e4">turnBuilder</a></div><div class="ttdeci">static void turnBuilder(MazeBuilder *builder)</div><div class="ttdoc">ビルダーを 90 度回転させる</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00186">maze.c:186</a></div></div>
<div class="ttc" id="direction_8h_html_a224b9163917ac32fc95a60d8c1eec3aaa9495f4b306d2598e4fd81757b6258125"><div class="ttname"><a href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa9495f4b306d2598e4fd81757b6258125">DIR_VERTICAL</a></div><div class="ttdoc">縦方向</div><div class="ttdef"><b>Definition:</b> <a href="direction_8h_source.html#l00029">direction.h:29</a></div></div>
<div class="ttc" id="maze_8c_html_aa8d2cae74b5d3d3873a6fd2c0d18ceff"><div class="ttname"><a href="maze_8c.html#aa8d2cae74b5d3d3873a6fd2c0d18ceff">moveBuilder</a></div><div class="ttdeci">static void moveBuilder(MazeBuilder *builder)</div><div class="ttdoc">ビルダーを一回進める</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00201">maze.c:201</a></div></div>
<div class="ttc" id="direction_8c_html_a00ce7bf08b168c0fdefe4e4579595072"><div class="ttname"><a href="direction_8c.html#a00ce7bf08b168c0fdefe4e4579595072">isSingleDirection</a></div><div class="ttdeci">bool isSingleDirection(Direction dir)</div><div class="ttdoc">片方向であるを判断する</div><div class="ttdef"><b>Definition:</b> <a href="direction_8c_source.html#l00010">direction.c:10</a></div></div>
<div class="ttc" id="struct_flood_state_html"><div class="ttname"><a href="struct_flood_state.html">FloodState</a></div><div class="ttdoc">Flood の状態を表す</div><div class="ttdef"><b>Definition:</b> <a href="floodfill_8h_source.html#l00022">floodfill.h:22</a></div></div>
<div class="ttc" id="direction_8h_html_a224b9163917ac32fc95a60d8c1eec3aaa2e15270378edc4b0861165674c651970"><div class="ttname"><a href="direction_8h.html#a224b9163917ac32fc95a60d8c1eec3aaa2e15270378edc4b0861165674c651970">DIR_NONE</a></div><div class="ttdoc">無方向</div><div class="ttdef"><b>Definition:</b> <a href="direction_8h_source.html#l00018">direction.h:18</a></div></div>
<div class="ttc" id="maze_8c_html_a43736a2fd7f3754cf0850eb4a0dda1ca"><div class="ttname"><a href="maze_8c.html#a43736a2fd7f3754cf0850eb4a0dda1ca">updateDistance</a></div><div class="ttdeci">static void updateDistance(MazeBuilder *builder)</div><div class="ttdoc">ビルダーの次回の走行距離を計算する</div><div class="ttdef"><b>Definition:</b> <a href="maze_8c_source.html#l00092">maze.c:92</a></div></div>
<div class="ttc" id="tile_8h_html_acd2017d946fd818c3b8ca377bc4006c7afc3e42901752d92e55d61c1a5caec31b"><div class="ttname"><a href="tile_8h.html#acd2017d946fd818c3b8ca377bc4006c7afc3e42901752d92e55d61c1a5caec31b">TILE_WALL</a></div><div class="ttdoc">壁</div><div class="ttdef"><b>Definition:</b> <a href="tile_8h_source.html#l00013">tile.h:13</a></div></div>
<div class="ttc" id="list_8c_html_a0b267f1da47ce83075b57dfdb6965af4"><div class="ttname"><a href="list_8c.html#a0b267f1da47ce83075b57dfdb6965af4">createList</a></div><div class="ttdeci">List * createList(void)</div><div class="ttdoc">新しいリストを生成する</div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00133">list.c:133</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_931ce304af081f85f63237a1d4f7bc66.html">maze</a></li><li class="navelem"><a class="el" href="maze_8c.html">maze.c</a></li>
    <li class="footer">2019年07月21日(日) 22時13分17秒作成 - Let There Be Light / 構成: 
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
